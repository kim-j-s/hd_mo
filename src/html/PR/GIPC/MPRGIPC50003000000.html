{{#> layout/default page-title="보험료 확인 | 해외장기체류보험"}}
<div id="wrap" class="wrap">
	{{> layout/header h-title="보험료 확인" }}

		<!-- s: 25-09-01 수정 -->
		<div id="container" class="container pro_sticky">
		<!-- e: 25-09-01 수정 -->
		<div class="content">
			<div class="guarantee_container">
				<!-- s: guarantee_container_left -->
				<div class="guarantee_container_left">
					<!-- s: live 처리 위치 -->
					<div class="guarantee_top" aria-live="polite">
						<div class="guarantee_top_item active">
              
							<h2 class="title_h2">
								설레는 외국생활<br>
								<strong>어디까지 보장</strong>받고 싶으세요?
							</h2>
						</div>
						<div class="guarantee_top_item">  
							<h2 class="title_h2">
								<!-- s: 25-08-26 수정 -->
								<strong>2,556,900원</strong><br>
								<strong>고급형</strong> 플랜을 선택할까요?
								<!-- e: 25-08-26 수정 -->
							</h2>
						</div>
						<div class="guarantee_top_item">   
							<h2 class="title_h2">
								<!-- s: 25-08-26 수정 -->
								<strong>1,856,200원</strong><br>
								<strong>표준형</strong> 플랜을 선택할까요?
								<!-- e: 25-08-26 수정 -->
							</h2>
						</div>
						<div class="guarantee_top_item">    
							<h2 class="title_h2">
								<!-- s: 25-08-26 수정 -->
								<strong>1,250,600원</strong><br>
								<strong>실속형</strong> 플랜을 선택할까요?
								<!-- e: 25-08-26 수정 -->
							</h2>
						</div>
					</div>
					<!-- e: live 처리 위치 -->

					<div class="guarantee_visuval">
						<!-- s: 25-11-17 수정 -->
						<img src="../../../images/content/prd/bg_intro4.png" alt="배경이미지" aria-hidden="true">
						<!-- e: 25-11-17 수정 -->
						<div class="visual_msg ty2">
							<div class="msg_text">오프대비<br>15% 할인</div>	
						</div>
					</div>

					<div class="guarantee_list_wrap">
						<div class="guarantee_choice_wrap">
							<div class="guarantee_item" data-sendclass="01">
								<div class="gi_radio">
									<input type="radio" name="guarantee_item" id="gi_radio01" aria-labelledby="guarantee_item_top_01">
									<label for="gi_radio01"></label>
								</div>
								<div class="guarantee_item_ev">
									<div class="guarantee_item_top" id="guarantee_item_top_01">
										<div class="git_l">
											<span class="hd_badge class_type class_type01"><span class="text">고급</span></span>
										</div>
                    
										<div class="git_r">
											더 큰 보장으로 완벽하게
											<span class="git_r_sub"><span class="git_r_sub_point">2,556,900</span>원</span>
										</div>
									</div>
									<div class="guarantee_item_cont">
										<div class="gic_inner_top">
											<div class="badge_wrap">
												<span class="hd_badge outline solid_pastel c_primary size_l">
													고급
													<span class="text">21개 보장</span>
												</span>
											</div>
										</div>	
										<div class="gic_inner">
											<div class="gic gic_01">
												<strong class="tit">더 큰 보장으로 완벽하게</strong>
												<!-- s: 25-08-11 UXW -->
												<!-- s: 25-10-21 수정 -->
												<p class="desc">마음까지 편안하게<br>더 많이 보장받아요</p>
												<!-- e: 25-10-21 수정 -->
												<!-- e: 25-08-11 UXW -->
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="guarantee_item" data-sendclass="02">
								<div class="gi_radio">
									<input type="radio" name="guarantee_item" id="gi_radio02" aria-labelledby="guarantee_item_top_02">
									<label for="gi_radio02"></label>
								</div>
								<div class="guarantee_item_ev">
									<div class="guarantee_item_top" id="guarantee_item_top_02">
										<div class="git_l">
											<span class="hd_badge class_type class_type02"><span class="text">표준</span></span>
										</div>
										<div class="git_r">
											빈틈없이 든든하게
											<span class="git_r_sub"><span class="git_r_sub_point">1,856,200</span>원</span>
										</div>
									</div>
									<div class="guarantee_item_cont">
										<div class="gic_inner_top">
											<div class="badge_wrap">
												<span class="hd_badge outline solid_pastel c_secondary size_l">
													표준
													<span class="text">17개 보장</span>
												</span>
											</div>
										</div>	
										<div class="gic_inner">
											<div class="gic gic_02">
												<strong class="tit">빈틈없이 든든하게</strong>
												<!-- s: 25-08-11 UXW -->
												<!-- s: 25-10-21 수정 -->
												<p class="desc">탄탄한 보장으로<br>걱정없이 충분해요</p>
												<!-- e: 25-10-21 수정 -->
												<!-- e: 25-08-11 UXW -->
											</div>
										</div>
									</div>
								</div>
							</div>

							<div class="guarantee_item" data-sendclass="03">
								<div class="gi_radio">
									<input type="radio" name="guarantee_item" id="gi_radio03" aria-labelledby="guarantee_item_top_03">
									<label for="gi_radio03"></label>
								</div>
								<div class="guarantee_item_ev">
									<div class="guarantee_item_top" id="guarantee_item_top_03">
										<div class="git_l">
											<!-- s: 25-08-11 UXW -->
											<span class="hd_badge class_type class_type03"><span class="text">실속</span></span>
											<!-- e: 25-08-11 UXW -->
										</div>
										<div class="git_r">
											부담없이 가볍게
											<span class="git_r_sub"><span class="git_r_sub_point">1,250,600</span>원</span>
										</div>
									</div>
									<div class="guarantee_item_cont">
										<div class="gic_inner_top">
											<div class="badge_wrap">
												<!-- s: 25-08-11 UXW -->
												<span class="hd_badge outline solid_pastel c_success size_l">
													실속
													<span class="text">11개 보장</span>
												</span>
												<!-- e: 25-08-11 UXW -->
											</div>
										</div>	
										<div class="gic_inner">
											<div class="gic gic_03">
												<strong class="tit">부담없이 가볍게</strong>
												<!-- s: 25-08-11 UXW -->
												<!-- s: 25-10-21 수정 -->
												<p class="desc">합리적인 보험료로<br>알차게 준비해요</p>
												<!-- e: 25-10-21 수정 -->
												<!-- e: 25-08-11 UXW -->
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<!-- e: guarantee_container_left -->

				<!-- s: guarantee_container_right -->
				<!-- s: 25-11-21 수정 -->
				<div class="guarantee_container_right" aria-hidden="true">
					<!-- e: 25-11-21 수정 -->
					<!-- s: guarantee_detail -->
					<div class="guarantee_detail ty2">
						<div class="guarantee_detail_top">
							<div class="splide_wrap splide_wrap_ty1" id="splide_wrap_ty1">
								<div class="splide" role="group">
									<div class="splide__track">
										<ul class="splide__list">
											<!-- s: 기본 -->											
											<li class="splide__slide c1" tabindex="0" data-getclass="03">
												<div class="gd_item">
													<div class="rdo_box">
														<input type="radio" name="d_r" id="d_r_01" aria-labelledby="d_rdo_01">
														<label for="d_r_01"></label>
													</div>
													<div class="gdi_content" aria-labelledby="d_rdo_01">
														<div class="badge_wrap">
															<!-- s: 25-08-11 UXW -->
															<span class="hd_badge outline solid_pastel c_success size_m"><strong>실속</strong> <span class="pipe_line">11개 보장</span></span>
															<!-- e: 25-08-11 UXW -->
														</div>
														<p class="head_text">
															<!-- s: 25-09-01 수정 -->
															<em>부담없이 가볍게</em>
															<!-- e: 25-09-01 수정 -->
															<span class="price">
																<strong class="price_num">1,250,600</strong><span class="won">원</span>
															</span>
														</p>
														<ul class="gdi_content_list">
															<li class="ico_add ico_add_ty9">
																<div class="item">
																	<!-- s: 25-09-25 수정 -->
																	<p class="desc">현대해상 오프라인 대비 <strong class="point">15%</strong> 할인<br>가족형 가입 시 <strong class="point">10%</strong> 추가 할인</p>
																	<!-- e: 25-09-25 수정 -->
																</div>
															</li>
														</ul>
													</div>
												</div>
											</li>
											<!-- e: 기본 -->

											<!-- s: 표준 -->
											<li class="splide__slide c2" tabindex="0" data-getclass="02">
												<div class="gd_item">
													<div class="rdo_box">
														<input type="radio" name="d_r" id="d_r_02" aria-labelledby="d_rdo_02">
														<label for="d_r_02"></label>
													</div>
													<div class="gdi_content" aria-labelledby="d_rdo_02">
														<div class="badge_wrap">
															<span class="hd_badge outline solid_pastel c_secondary size_m"><strong>표준</strong> <span class="pipe_line">17개 보장</span></span>
														</div>
														<p class="head_text">
															<!-- s: 25-09-01 수정 -->
															<em>빈틈없이 든든하게</em>
															<!-- e: 25-09-01 수정 -->	
															<span class="price">
																<strong class="price_num">1,856,200</strong><span class="won">원</span>
															</span>
														</p>
														<ul class="gdi_content_list">
															<li class="ico_add ico_add_ty9">
																<div class="item">
																	<!-- s: 25-09-25 수정 -->
																	<p class="desc">현대해상 오프라인 대비 <strong class="point">15%</strong> 할인<br>가족형 가입 시 <strong class="point">10%</strong> 추가 할인</p>
																	<!-- e: 25-09-25 수정 -->
																</div>
															</li>
														</ul>
													</div>
												</div>
											</li>
											<!-- e: 표준 -->

											<!-- s: 고급 -->
											<li class="splide__slide c3" tabindex="0" data-getclass="01">
												<div class="gd_item">
													<div class="rdo_box">
														<input type="radio" name="d_r" id="d_r_03" aria-labelledby="d_rdo_03">
														<label for="d_r_03"></label>
													</div>
													<div class="gdi_content" aria-labelledby="d_rdo_03">
														<div class="badge_wrap">
															<span class="hd_badge outline solid_pastel c_primary size_m"><strong>고급</strong> <span class="pipe_line">21개 보장</span></span>
														</div>
														<p class="head_text">
															<!-- s: 25-09-01 수정 -->
															<em>더 큰 보장으로 완벽하게</em>
															<!-- e: 25-09-01 수정 -->
															<span class="price">
																<strong class="price_num">2,556,900</strong><span class="won">원</span>
															</span>
														</p>
														<ul class="gdi_content_list">
															<li class="ico_add ico_add_ty9">
																<div class="item">
																	<!-- s: 25-09-25 수정 -->
																	<p class="desc">현대해상 오프라인 대비 <strong class="point">15%</strong> 할인<br>가족형 가입 시 <strong class="point">10%</strong> 추가 할인</p>
																	<!-- e: 25-09-25 수정 -->
																</div>
															</li>															
														</ul>
													</div>
												</div>
											</li>
											<!-- e: 고급 -->
										</ul>
									</div>
									<div class="splide_arrows">
										<button type="button" class="swiper_button sbc_02 sbs_02 swiper_button_left" aria-label="이전 플랜 보기"></button>
										<button type="button" class="swiper_button sbc_02 sbs_02 swiper_button_right" aria-label="다음 플랜 보기"></button>
									</div>
								</div>
							</div>
							<!-- s: 25-08-21 수정 -->
							<!-- s: 25-09-01 수정 -->
							<div class="guarantee_detail_mini column">
								<div class="item_wrap">
									<span class="i_data">
										<span class="text">보험 기간</span>
										<strong class="data">25.08.20 16시~25.08.30 23시</strong>
									</span>
									<div class="modify_ba">
										{{> cp/button type="3" size="5" b-text="변경" btn-title="보험 기간 변경 팝업열기"}}
									</div>
								</div>
								<div class="item_wrap">
									<span class="i_data">
										<!-- s: 25-12-11 수정 -->
										<span class="text">가입 유형</span>
										<!-- e: 25-12-11 수정 -->
										<strong class="data">혼자</strong>
									</span>
									<!-- <div class="modify_ba">
										{{> cp/button type="3" size="5" b-text="변경" btn-title="가입조건 변경 팝업열기"}}
									</div> -->
								</div>
							</div>
							<!-- e: 25-09-01 수정 -->
							<!-- e: 25-08-21 수정 -->
						</div>

						<!-- s: 25-09-01 수정 -->
						<!-- 간편정보 -->
						<!-- <div class="simple_info_wrap">
							<div class="simple_info_item">
								<ul class="sii_list">
									<li>
										<span class="sii_list_l">보험료</span>
										<span class="sii_list_r">
											<strong class="price">2,556,900원</strong>
										</span>
									</li>
									<li>
										<span class="sii_list_l">보험기간</span>
										<span class="sii_list_r">
											<strong class="bold">2025.03.15 10시~2026.03.15 10시</strong>
										</span>
									</li>
								</ul>
							</div>
						</div> -->
						<!-- 간편정보 -->
						<!-- e: 25-09-01 수정 -->


						<div class="gd_middle_ba btn_area">
							{{> cp/button type="3" size="3" b-text="모든 플랜 확인" btn-title="전체 팝업"}}
							<!-- s: 25-08-11 UXW -->
							{{> cp/button type="3" size="3" b-text="계산 결과 받기" btn-title="전체 팝업"}}
							<!-- e: 25-08-11 UXW -->
						</div>

						<div class="acc_group">
							<div class="space_list_ty2">
								<!-- s: 25-11-04 수정 -->
								<!-- 삭제
								<div class="acd_item acd_item_ty2">
									{{#> cp/accordion ac-title="꼭 가입해야 할 보장" cont-class="" ac-active=true }}
                  <ul class="coverage_item_list">
                    <li class="list">
                      <div class="cont_text">상해사망•후유장해(해외장기체류)</div>
                      <div class="cont_text_sub">계약자 본인 외 가족피보험자는 상해사망 담보 미가입(상해후유장애만 해당)</div>
                      <div class="chk_lby2">
                        {{> cp/linkButton bl_text="10만달러" size="1" bl_class="price_btn" question_tit="보장상세내용보기"}}
                      </div>
                    </li>
                    <li class="list">
                      <div class="cont_text">상해후유장해(해외장기체류)</div>
                      <div class="chk_lby2">
                        {{> cp/linkButton bl_text="10만달러" size="1" bl_class="price_btn" question_tit="보장상세내용보기"}}
                      </div>
                    </li>
                  </ul>
									{{/ cp/accordion }}
								</div>
								 -->
								<!-- e: 25-11-04 수정 -->

								<div class="acd_item acd_item_ty2">
									{{#> cp/accordion ac-title="해외에서 아프거나 다쳤을 때" cont-class="" ac-active=true }}
										<ul class="coverage_item_list">
											<!-- s: 25-11-04 수정 -->
											<li class="list">
												{{#> cp/checkbox labelname="상해후유장해(해외장기체류)" id="checkbox02-0" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="10만달러" role_b=true question_tit="가입조건변경"}}
												</div>
												{{/ cp/checkbox }}
											</li>
											<li class="list">
												{{#> cp/checkbox labelname="상해사망•후유장해(해외장기체류)" id="checkbox02-01" }}
												<div class="chk_lby2">
													<div class="cont_text_sub">계약자 본인 외 가족피보험자는 상해사망 담보 미가입(상해후유장애만 해당)</div>
													{{> cp/linkButton bl_class="price_btn" bl_text="10만달러" role_b=true question_tit="가입조건변경"}}
												</div>
												{{/ cp/checkbox }}
											</li>
											<li class="list">
												{{#> cp/checkbox labelname="질병사망및80%고도후유장해" id="checkbox02-02" }}
												<div class="chk_lby2">
													<div class="cont_text_sub">계약자 본인 외 가족/동반인은 사망보장 미가입</div>
													{{> cp/linkButton bl_class="price_btn" bl_text="2만달러" role_b=true question_tit="가입조건변경"}}
												</div>
												{{/ cp/checkbox }}
											</li>											
											<li class="list">
												{{#> cp/checkbox labelname="상해사망·후유장해(해외장기체류)" id="checkbox02-11" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="2만달러" role_b=true question_tit="가입조건변경"}}
												</div>
												{{/ cp/checkbox }}
											</li>
											<li class="list">
												{{#> cp/checkbox labelname="질병사망및80%고도후유장해" id="checkbox02-1" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="2만달러" role_b=true question_tit="가입조건변경"}}
												</div>
												{{/ cp/checkbox }}
											</li>
											<li class="list">
												{{#> cp/checkbox labelname="해외장기체류 상해_해외의료실비보장" id="checkbox02-2" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="10만달러" role_b=true question_tit="가입조건변경"}}                        
												</div>
												{{/ cp/checkbox }}
											</li>
											<li class="list">
												{{#> cp/checkbox labelname="해외장기체류 질병_해외의료실비보장" id="checkbox02-3" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="10만달러" role_b=true question_tit="가입조건변경"}}
												</div>
												{{/ cp/checkbox }}
											</li>
											<li class="list">
												{{#> cp/checkbox labelname="중대사고 구조송환비용 등(7일 이상)" id="checkbox02-6" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="7만5천달라" role_b=true question_tit="가입조건변경"}}
												</div>
												{{/ cp/checkbox }}
											</li>
											<!-- e: 25-11-04 수정 -->
										</ul>
									{{/ cp/accordion }}
								</div>

								<!-- s: 25-11-04 수정 -->
							
								<div class="acd_item acd_item_ty2">
									{{#> cp/accordion ac-title="남에게 피해를 입혔을 때" cont-class="" ac-active=true }}
										<ul class="coverage_item_list">
											<li class="list">
												{{#> cp/checkbox labelname="일괄배상(해외장기체류)" id="checkbox03-1" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="5,000만원" role_b=true question_tit="가입조건변경"}}
												</div>
												{{/ cp/checkbox }}
											</li>
										</ul>
									{{/ cp/accordion }}
								</div>
								<!-- e: 25-11-04 수정 -->

								<!-- s: 25-11-04 수정 -->
								<div class="acd_item acd_item_ty2">
									{{#> cp/accordion ac-title="해외에서 아프거나 다쳐서 국내에서 치료받을 때" cont-class="" ac-active=true }}
										<ul class="coverage_item_list">
											<li class="list">
												{{#> cp/checkbox labelname="해외장기체류 상해급여_국내의료실비보장" id="checkbox04-1" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="5,000만원" role_b=true question_tit="가입조건변경"}}
													<div class="badge_wrap">
														<span class="hd_badge outline solid_pastel c_warning size_m">통원 15만원 한도</span>
													</div>
												</div>
												{{/ cp/checkbox }}
											</li>
											<li class="list">
												{{#> cp/checkbox labelname="해외장기체류 질병급여_국내의료실비보장" id="checkbox04-2" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="5,000만원" role_b=true question_tit="가입조건변경"}}
													<div class="badge_wrap">
														<span class="hd_badge outline solid_pastel c_warning size_m">통원 15만원 한도</span>
													</div>
												</div>
												{{/ cp/checkbox }}
											</li>
											<li class="list">
												{{#> cp/checkbox labelname="해외장기체류 상해비급여_국내의료실비보장" id="checkbox04-3" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="5,000만원" role_b=true question_tit="가입조건변경"}}
													<div class="badge_wrap">
														<span class="hd_badge outline solid_pastel c_warning size_m">통원 15만원 한도</span>
													</div>
												</div>
												{{/ cp/checkbox }}
											</li>
											<li class="list">
												{{#> cp/checkbox labelname="해외장기체류 질병비급여_국내의료실비보장" id="checkbox04-4" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="5,000만원" role_b=true question_tit="가입조건변경"}}
													<div class="badge_wrap">
														<span class="hd_badge outline solid_pastel c_warning size_m">통원 15만원 한도</span>
													</div>
												</div>
												{{/ cp/checkbox }}
											</li>
											<li class="list">
												{{#> cp/checkbox labelname="해외장기체류 3대비급여_국내의료실비보장" id="checkbox04-5" }}
												<div class="chk_lby2">
													{{> cp/linkButton bl_class="price_btn" bl_text="350만원" role_b=true question_tit="가입조건변경"}}
												</div>
												{{/ cp/checkbox }}
											</li>
										</ul>
									{{/ cp/accordion }}
								</div>
								<!-- e: 25-11-04 수정 -->
							
							</div>
						</div>

						<!-- s: 꼭 알아두세요 -->
						<!-- {{#> cp/notice dp-active="active" }}
						<ul class="list_ty1">
							<li>해외여행보험은 상해사망, 후유장해 담보를 기본계약으로 하여 계약자가 필요한 담보를 선택하여 가입할 수 있습니다.(단, 만 19세 미만은 사망담보 가입 불가)</li>
							<li>보험가입 전 진단 또는 치료를 받은 질병이 있는 경우, 관련 담보에는 가입이 제한될 수 있습니다.</li>
							<li>실손의료보험에 이미 가입한 경우, 해외여행보험의 ‘국내치료비’ 담보는 실제 손해액을 한도로 비례 보상하므로 가입 실익이 낮습니다.</li>
							<li>보험개시 4시간 전에 보험 가입시에는 출국항공기 지연손해보장 특약이 제한됩니다. (출발시간을 현재시간 기준으로 4시간 이후로 설정시 가입 가능)</li>
						</ul>
						{{/ cp/notice }} -->
						<!-- e: 꼭 알아두세요 -->
					</div>
					<!-- e: guarantee_detail -->
					</div>
				<!-- e: guarantee_container_right -->
			</div>
		</div>
</div>

	<div class="bottom_fix_wrap">
		<div class="btn_area btn_area_change_evnet">
			<!-- {{> cp/button class="slide_detail_btn hidden" type="3" size="1" b-text="다시 선택" }} -->
			{{> cp/button class="slide_detail_btn hidden" type="3" size="1" b-text="플랜 다시 선택" }}
			<!-- s: 25-08-19 UXW -->
			{{> cp/button class="slide_move_btn" type="1" size="1" b-text="원하는 보장을 선택 중이에요" disabled=true }}
			<!-- e: 25-08-19 UXW -->
		</div>
	</div>
</div>

<!-- s: popup area -->
<!-- e: popup area -->

<script>
	$(function () {
		// 보험 플랜 - 진입화면 라디오 선택 이벤트
		$('.guarantee_choice_wrap .guarantee_item .gi_radio input[type="radio"]').on('change', function() {
			const idx = $(this).closest('.guarantee_item').index();
			// console.log(idx);
			const $selectedItem = $(this).closest('.guarantee_item');
			$(this).closest('.guarantee_choice_wrap').addClass('active');
			$(this).closest('.guarantee_choice_wrap').find('.guarantee_item').removeClass('active');
			$(this).closest('.guarantee_item').addClass('active');

			// 모든 항목 초기화: 컨텐츠 닫고 타이틀 열기
			$('.guarantee_choice_wrap .guarantee_item').each(function() {
				// 25-11-28 수정
				const $getAl = $(this).find('input[type="radio"]').attr('aria-labelledby');
				const $changeTop = $(this).find('.guarantee_item_top');
				const $changeCont = $(this).find('.guarantee_item_cont');
				$changeCont.removeAttr('id');
				$changeTop.attr('id', $getAl);
				// 25-11-28 수정
				$(this).find('.guarantee_item_cont').stop(true, true).slideUp(300);
				$(this).find('.guarantee_item_top').stop(true, true).slideDown(300);
			});

			// 선택된 항목만: 컨텐츠 열고 타이틀 닫기
			// 25-11-28 수정
			const $thisgetAl = $selectedItem.find('input[type="radio"]').attr('aria-labelledby');
			const $thischangeTop = $selectedItem.find('.guarantee_item_top');
			const $thischangeCont = $selectedItem.find('.guarantee_item_cont');
			$thischangeTop.removeAttr('id');
			$thischangeCont.attr('id', $thisgetAl);
			// 25-11-28 수정
			$selectedItem.find('.guarantee_item_cont').stop(true, true).slideDown(300);
			$selectedItem.find('.guarantee_item_top').stop(true, true).slideUp(300);

			// 고급 선택 시
			if( idx === 0 && $('.gtl_special').length ) {
				$('.gtl_special').addClass('active');
			} else {
				$('.gtl_special').removeClass('active');
			}

			// head 문구 변경
			$('.guarantee_top_item').eq(idx + 1).addClass('active').siblings('.guarantee_top_item').removeClass('active');

			// 비쥬얼 영역 변경			
			$('.guarantee_visuval').stop(true, true).slideUp(300);

			// 추가된 부분
			// const selectedClass = $(this).closest('.guarantee_item').data('sendclass'); // 선택된 항목의 data-sendclass 값
			// console.log('선택된 항목의 data-sendclass:', selectedClass);

			// 25-08-08 수정
			$('.slide_move_btn').attr('disabled', false).find('.text').text('보장내용 자세히 보기'); // 버튼 활성화
			// 25-08-08 수정
			
		});
		// 보험 플랜 - 진입화면 라디오 선택 이벤트

		// Splide 설정
		var splide = new Splide('#splide_wrap_ty1 .splide', {
			speed: 500,
			accessibility: true,
			arrows: false, // 기본 화살표 비활성화
			focusableNodes: 'a, button, input, textarea, select, li',
		}).mount();

		splide.on('moved', function () {
			const $slides = $('.splide__slide');
			const $activeSlide = $slides.filter('.is-active');
			const $radio = $activeSlide.find('input[type="radio"]');

			// 모든 슬라이드 tabindex 제거
			$slides.removeAttr('tabindex');

			// 활성화된 슬라이드에 radio 체크 및 focus 처리
			if ($radio.length) {
				$radio.prop('checked', true).trigger('change');
			}

			// 접근성: 현재 슬라이드에 포커스
			$activeSlide.attr('tabindex', '0').focus();

			// 버튼 상태 갱신
			updateArrowState();
		});

		// 슬라이드 효과를 주기 위함
		splide.on('move', function (newIndex) {
			const $slides = $('.splide__slide');
			$slides.removeClass('effect');

			const $nextSlide = $slides.eq(newIndex);
			$nextSlide.addClass('effect');
		});

		// 커스텀 좌우 버튼 클릭 시 이동
		$('#splide_wrap_ty1 .swiper_button_left').on('click', () => splide.go('<'));
		$('#splide_wrap_ty1 .swiper_button_right').on('click', () => splide.go('>'));

		// 버튼 상태 업데이트 함수
		function updateArrowState() {
			const curr = splide.index;
			const max = splide.length - 1;

			$('#splide_wrap_ty1 .swiper_button_left').prop('disabled', curr === 0);
			$('#splide_wrap_ty1 .swiper_button_right').prop('disabled', curr === max);
		}

		// 초기 로드 시 상태 설정
		updateArrowState();
		
		

		// 보험 플랜 - 우측 이동
		// 25-08-28 수정
		$(document).on('click', '.slide_move_btn', function(){
			// 25-08-26 수정
			// $('.btn_area_change_evnet').addClass('ty5');
			// 25-08-26 수정
			$('.slide_move_btn').find('.text').text('이대로 가입하기');
			$('.slide_move_btn').removeClass('slide_move_btn');
			$('.slide_detail_btn').removeClass('hidden'); // 버튼 숨김			
			// 25-08-28 수정

			const selectedClass = $('.guarantee_choice_wrap .guarantee_item input[type="radio"]:checked').closest('.guarantee_item').data('sendclass');
			// console.log('선택된 항목의 data-sendclass:', selectedClass);
			const targetSlide = $('.splide__slide[data-getclass="' + selectedClass + '"]');

			if (targetSlide.length) {
				const targetIndex = targetSlide.index();  // 슬라이드의 인덱스를 구합니다.
				// console.log('목표 슬라이드 인덱스:', targetIndex);
				$('.guarantee_container').addClass('active');

				setTimeout(function() {
					$('.splide__list').find('.splide__slide').eq(targetIndex).addClass('effect').find('input[type="radio"]').prop('checked', true);
					splide.go(targetIndex);
					$('.container').scrollTop(0);
					// s: 25-11-21 수정
					$('.guarantee_container_right').attr('aria-hidden', false);
					// e: 25-11-21 수정
					setTimeout(function(){
						$('.splide__list').find('.splide__slide').eq(targetIndex).attr('tabindex', '0').focus();
						$('.guarantee_container').css('position', 'static');
						$('.guarantee_container_left').attr('aria-hidden', true);
						$('.guarantee_container_right').css('position', 'static');
					}, 100)
				}, 500);
			}
		});
		// 보험 플랜 - 우측 이동

		window.addEventListener('resize', function () {
			splide.refresh(); // 슬라이드 다시 계산
		});
	});
</script>


{{/ layout/default }}
