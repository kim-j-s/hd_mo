<!-- s: 25-07-25 -->
{{#> layout/default page-title="보험가입 | 상품"}}

<div id="wrap" class="wrap">
    {{> layout/header main=true h-back=true h-alarm=true}}
    <!-- e: 25-07-25 -->
    <div id="container" class="container home">
        <div class="content">
            <div class="home_card top sticky">
                <div class="top_item_box">
                    <h3 class="h2_title">
                        <strong>어떤 상품</strong>을 찾으시나요?
                    </h3>
                    <div class="product_top">
                        <button type="button" class="product_top1" data-target="1">자동차</button>
                        <button type="button" class="product_top2" data-target="2">운전자</button>
                        <button type="button" class="product_top3" data-target="3">펫</button>
                        <button type="button" class="product_top4" data-target="4">재산/화재</button>
                        <button type="button" class="product_top5" data-target="5">어린이</button>
                        <button type="button" class="product_top6" data-target="6">건강·암</button>
                        <button type="button" class="product_top7" data-target="7">여행/레저</button>
                        <button type="button" class="product_top8" data-target="8">연금/저축</button>
                    </div>
                </div>
            </div>
            <div class="home_card product bg_ty01">
                <h2 class="title_h6 secondary">자동차</h2>
                <div class="pro_tit">
                    <h3 class="h2_title">
                        <strong>자동차보험</strong>
                    </h3>
                    <p class="sub_text">
                        인터넷 가입으로 평균 18.3% 저렴<br>(자사 오프라인 대비)
                    </p>
                    <div class="btn_area basic">
                        {{> cp/button type="1" size="3" b-text="계산/갱신" }}
                    </div>
                </div>
                <div class="bn_scroll_wrap">
                    <div class="bn_item_wrap ty5">
                        <div>
                            <div class="tit">할인특약</div>
                            <div class="cont">ECO마일리지</div>
                        </div>
                        <div>
                            <div class="tit">할인특약</div>
                            <div class="cont">커넥티드카</div>
                        </div>
                        <div class="auto">
                            <div class="tit">할인특약</div>
                            <div class="cont">스마트 안전운전(UBI)</div>
                        </div>
                        <div>
                            <div class="tit">할인특약</div>
                            <div class="cont">첨단안전장치</div>
                        </div>
                        <div>
                            <div class="tit">할인특약</div>
                            <div class="cont">효도하는 자녀</div>
                        </div>
                        <div>
                            <div class="tit">할인특약</div>
                            <div class="cont">블랙박스</div>
                        </div>
                    </div>
                </div>
                <div class="icon_link list">
                    <a href="javascript:void(0);" class="item opt14" title="페이지 이동">
                        <div class="title">자동차보험(법인)</div>
                        <div class="cont">법인 자동차 여러대도 OK</div>
                    </a>
                    <a href="javascript:void(0);" class="item opt15" title="페이지 이동">
                        <div class="title">
                            이륜차보험<span class="hd_badge outline solid_pastel c_primary size_m">카드혜택</span>
                            <!-- <span class="hd_badge outline solid_pastel c_success size_m">가입혜택</span> -->
                        </div>
                        <div class="cont">가정용은 물론 배달용도 OK</div>
                    </a>
                    <a href="javascript:void(0);" class="item opt16" title="페이지 이동">
                        <div class="title">
                            영업용 자동차보험<span class="hd_badge outline solid_pastel c_primary size_m">카드혜택</span>
                        </div>
                        <div class="cont">개인소유 화물차</div>
                    </a>
                    <a href="javascript:void(0);" class="item opt17" title="페이지 이동">
                        <div class="title">타임쉐어 자동차보험</div>
                        <div class="cont">다른사람의 자동차 또는 렌터카 운전할 때 든든하게</div>
                    </a>
                </div>
                <div class="btn_area">
                    {{> cp/button type="3" size="3" b-text="단기운전자 특약 신청" }}
                </div>
								<!-- s: 25-08-11 수정 -->
                <div class="banner_box and">
								<!-- e: 25-08-11 수정 -->
									<a href="javascript:void(0);" title="페이지 이동"><img src="../../../images/content/ho/img_banner04.png" alt="자동차보험 결제혜택 최대 3만원 30만원 이상 결제시, 각  결제사 제공"></a>
                </div>
            </div>
            <div class="home_card product bg_ty02">
                <h2 class="title_h6 secondary">운전자</h2>
                <div class="pro_tit">
                    <h3 class="h2_title">
                        <strong>운전자보험</strong>
                    </h3>
                    <p class="sub_text">
                        현대해상 자동차보험 고객 매월 <br>7% 할인, 가입혜택 최대 3만원
                    </p>
                    <div class="btn_area basic">
                        {{> cp/button type="1" size="3" b-text="계산/갱신" }}
                    </div>
                </div>
                <div class="icon_link list">
                    <a href="javascript:void(0);" class="item opt18" title="페이지 이동">
                        <div class="title">
                            오토바이운전자보험<span class="hd_badge outline solid_pastel c_secondary size_m">NEW</span>
                        </div>
                        <div class="cont">오토바이 라이딩도 안심 보장</div>
                    </a>
                </div>
            </div>
            <div class="banner_box">
                <a href="javascript:void(0);" title="페이지 이동"><img src="../../../images/content/ho/img_banner05.png" alt="마케팅배너가 들어갑니다 원별 안전운전점수 추가할인특약 신설 5%추가할인 받으세요!"></a>
            </div>
            <div class="home_card product bg_ty03">
                <h2 class="title_h6 secondary">펫</h2>
                <div class="pro_tit">
                    <h3 class="h2_title">
                        <strong>굿앤굿우리펫보험(강아지)</strong>
                    </h3>
                    <p class="sub_text">
                        동물등록, 유기동물 입양, 다펫 시 <br>최대 13% 할인
                    </p>
                    <div class="btn_area basic">
                        {{> cp/button type="1" size="3" b-text="계산/갱신" }}
                    </div>
                </div>
                <div class="icon_link list">
                    <a href="javascript:void(0);" class="item opt19" title="페이지 이동">
                        <div class="title">
                            굿앤굿우리펫보험(고양이)<span class="hd_badge outline solid_pastel c_secondary size_m">NEW</span>
                        </div>
                        <div class="cont">
                            동물등록, 유기동물 입양, 다펫 시 최대 13% 할인
                        </div>
                    </a>
                </div>
            </div>
            <div class="home_card product bg_ty04">
                <h2 class="title_h6 secondary">재산/화재</h2>
                <div class="pro_tit">
                    <h3 class="h2_title">
                        <strong>주택화재상해보험</strong>
                    </h3>
                    <p class="sub_text">
                        우리 집 화재, 누수, 가전제품수리비<br>
                        이웃집 배상책임도 든든 보장
                    </p>
                    <div class="btn_area basic">
                        {{> cp/button type="1" size="3" b-text="계산/갱신" }}
                    </div>
                </div>
                <div class="icon_link list">
                    <a href="javascript:void(0);" class="item opt20" title="페이지 이동">
                        <div class="title">사업장화재보험</div>
                        <div class="cont">업종별 화재 손해와 배상책임 보장</div>
                    </a>
                    <a href="javascript:void(0);" class="item opt21" title="페이지 이동">
                        <div class="title">풍수행·지진재해보험(주택)</div>
                        <div class="cont">자연재해에 따른 손해보장</div>
                    </a>
                    <a href="javascript:void(0);" class="item opt22" title="페이지 이동">
                        <div class="title">풍수행·지진재해보험(소상공인)</div>
                        <div class="cont">자연재해에 따른 손해보장</div>
                    </a>
                </div>
            </div>
            <div class="home_card product bg_ty05">
                <h2 class="title_h6 secondary">어린이</h2>
                <div class="pro_tit">
									<!-- s: 25-08-11 수정 -->
                    <h3 class="h2_title">
                        <strong>굿앤굿어린이종합보험Q<br>(태아)</strong>
                    </h3>
                    <p class="sub_text">
                        출생부터 안심되는 우리 아이 첫! 보험<br>
                        엄마의 임신, 출산도 함께 보장
                    </p>
										<!-- e: 25-08-11 수정 -->
                    <div class="btn_area basic">
                        {{> cp/button type="1" size="3" b-text="계산/갱신" }}
                    </div>
                </div>
                <!-- s: 25-08-11 수정 -->
                <div class="icon_link list">
                    <a href="javascript:void(0);" class="item opt29" title="페이지 이동">
                        <div class="title">굿앤굿어린이종합보험Q(0~15세)</div>
                        <div class="cont">우리 아이 성장단계별 맞춤 보장</div>
                    </a>
                </div>
                <!-- e: 25-08-11 수정 -->
                <div class="icon_link list">
                    <a href="javascript:void(0);" class="item opt23" title="페이지 이동">
                        <div class="title">어린이 치아보험</div>
                        <div class="cont">유치, 영구치 치과치료비 보장</div>
                    </a>
                </div>
            </div>
            <div class="home_card product bg_ty06">
                <h2 class="title_h6 secondary">건강·암</h2>
                <div class="pro_tit">
                    <h3 class="h2_title">
                        <strong>건강보험</strong>
                    </h3>
                    <p class="sub_text">
                        암+뇌혈관질환+심장질환 종합보장<br>
                        통풍, 대상포진도 OK!
                    </p>
                    <div class="btn_area basic">
                        {{> cp/button type="1" size="3" b-text="계산/갱신" }}
                    </div>
                </div>
                <div class="icon_link list">
                    <a href="javascript:void(0);" class="item opt24" title="페이지 이동">
                        <div class="title">암보험</div>
                        <div class="cont">
                            암, 재진단암 보장<br>
                            1회차 보험료 12% 할인
                        </div>
                    </a>
                    <a href="javascript:void(0);" class="item opt6" title="페이지 이동">
                        <div class="title">실손의료비(계약전환용)</div>
                        <div class="cont">4세대 실손보험으로 변경</div>
                    </a>
                </div>
            </div>
            <div class="banner_box">
                <a href="javascript:void(0);" title="페이지 이동"><img src="../../../images/content/ho/img_banner06.png" alt="늑대같은 위험에도 안전한가요? 보장분석을 통해 나의 보험을 진단해보세요."></a>
            </div>
            <div class="home_card product bg_ty07">
                <h2 class="title_h6 secondary">여행/레저</h2>
                <div class="pro_tit">
                    <h3 class="h2_title">
                        <strong>해외여행보험</strong>
                    </h3>
                    <p class="sub_text">
                        자사 오프라인 대비 평균 46% 저렴<br>
                        여럿이 함께 가입하면 10% 추가할인!
                    </p>
                    <div class="btn_area basic">
                        {{> cp/button type="1" size="3" b-text="계산/갱신" }}
                    </div>
                </div>
                <div class="icon_link list">
                    <a href="javascript:void(0);" class="item opt25" title="페이지 이동">
                        <div class="title">해외장기체류보험</div>
                        <div class="cont">3개월 이상 해외 나갈 때 필수품</div>
                    </a>
                    <a href="javascript:void(0);" class="item opt26" title="페이지 이동">
                        <div class="title">국내여행보험</div>
                        <div class="cont">전국 어디든 여행, 출장 든든하게</div>
                    </a>
                    <a href="javascript:void(0);" class="item opt27" title="페이지 이동">
                        <div class="title">골프</div>
                        <div class="cont">
                            스윙에 자신감을 더하세요!<br>
                            자사 오프라인 대비 5% 저렴
                        </div>
                    </a>
                </div>
            </div>
            <div class="home_card product bg_ty08">
                <h2 class="title_h6 secondary">연금/저축</h2>
                <div class="pro_tit">
                    <h3 class="h2_title">
                        <strong>연금보험</strong>
                    </h3>
                    <p class="sub_text">
                        쏠쏠한 세제 혜택에 든든한 노후!
                    </p>
                    <div class="btn_area basic">
                        {{> cp/button type="1" size="3" b-text="계산/갱신" }}
                    </div>
                </div>
                <div class="icon_link list">
                    <a href="javascript:void(0);" class="item opt28" title="페이지 이동">
                        <div class="title">저축보험</div>
                        <div class="cont">미래를 위한 든든한 목돈 마련</div>
                    </a>
                </div>
            </div>
            <div class="home_card bn_box ty1">
                <h3 class="h2_title">
                    늑대 같은 위험에도 안전한가요?<br>
                    <strong>나의 보장을 점검해보세요</strong>
                </h3>
                <div class="btn_area center">
                    {{> cp/button type="3" size="4" rightIcon="arrowRightSvg" b-text="보험진단하기"}}
                </div>
            </div>
            <div class="list_box">
                <ul class="list_ty2">
                    <li>준법감시인 확인필 제2024030호 <br>(유효기간 2024.12.26~2025.12.26)</li>
                </ul>
            </div>
            <!-- s: 꼭 알아두세요 -->
            {{#> cp/notice dp-title="보험계약 시 알아두실 사항" dp-active=true }}
            <ul class="list_depth">
                <li>보험계약 체결 전에 상품설명서 및 약관을 읽어보시기 바랍니다.</li>
                <li>청약서에서 보험계약의 기본사항(보험상품명,보험기간,보험료,보험료납입기간 등)을 반드시 확인하시기 바랍니다.</li>
                <li>보험에 가입하신 후 보험증권과 약관 등을 받으시면 청약서의 내용과 다름이 없는지 또는 누락 사항이 없는지를 확인하셔서 이상이 있는 경우 즉시 보험회사로 연락하여 조치를 받으셔야 합니다.</li>
                <li>보험계약자가 기존에 체결했던 보험계약을 해지하고 다른 보험계약을 체결하면 보험인수가 거절되거나 보험료가 인상되거나 보장내용이 달라질 수 있습니다.</li>
                <li>보험계약은 예금자보호법에 따라 해약환급금(또는 만기 시 보험금)에 기타지급금을 합한 금액이 1인당 “5천만원까지”(본 보험회사의 여타 보호상품과 합산)보호됩니다.</li>
                <li>이와 별도로 본 보험회사 보호상품의 사고보험금을 합산한 금액이 1인당 “5천만원까지” 보호됩니다. 다만, 보험계약자 및 보험료 납부자가 법인이면 보호되지 않습니다.</li>
                <li>계약자가 납입한 보험료는 불의의 사고를 당한 다른 가입자에게 보험금으로 지급되고 보험회사 운영에 필요한 경비로 사용되므로 중도해지 시 지급되는 해약환급금은 납입한 보험료보다 적거나 없을 수 있습니다.</li>
                <li>보험상품의 보험료 산출기초가 되는 적용이율, 예정위험률, 예정사업비 지수는 상품요약서에서 보다 자세히 확인하실 수 있습니다.</li>
            </ul>
            {{/ cp/notice }}
            <!-- e: 꼭 알아두세요 -->
        </div>
    </div>
    <!-- toolbar -->
    {{> layout/toolbar active="ty2" }}
    <!-- toolbar -->
</div>

<!-- s: popup area -->


<!-- e: popup area -->

<script>
    $(window).on('load', function () {
        const $container = $('#container');
        const $buttons = $('.product_top button');
        const headerHeight = $('.home_card.sticky').outerHeight() || 0;
        let isClickScrolling = false;

        // 버튼 클릭 시
        $buttons.each(function () {
            const $btn = $(this);
            const targetNum = $btn.data('target');
            const $target = $(`.bg_ty0${targetNum}`);


            $btn.on('click', function () {
                // 클릭으로 인한 스크롤임을 표시
                isClickScrolling = true;
                // s: 25-08-27 
                if (targetNum === 1) {
                    $container.animate({ scrollTop: 0 }, 600, function () {
                        $('.home_card.sticky').removeClass('active');
                        isClickScrolling = false;
                    });
                    return; // 아래 로직 실행 안 함
                } else {
                    $('.home_card.sticky').addClass('active');
                }
                // e: 25-08-27 
                const scrollTop = $target.offset().top - $container.offset().top + $container.scrollTop() - headerHeight + 150;

                // 버튼 active
                $buttons.removeClass('active');
                $btn.addClass('active');

                // 버튼 중앙 정렬 (선택)
                setTimeout(scrollActiveButtonIntoView, 10);

                // 콘텐츠로 이동
                $container.animate({
                    scrollTop: scrollTop
                }, 600, function () {
                    // 애니메이션 완료 후 다시 감지 허용
                    // const $focusable = $target.find('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])').filter(':visible').first();

                    // if ($focusable.length) {
                    // 	$focusable.focus();
                    // } else {
                    // 	// 없다면 컨테이너 자체에 tabindex 부여 후 포커스 (예외 대응)
                    // 	$target.attr('tabindex', '-1').focus();
                    // }
                    $target.attr('tabindex', '-1').focus();
                    isClickScrolling = false;
                });
            });
        });

        $container.on('scroll', function () {
            if (isClickScrolling) return;

            const scrollTop = $container.scrollTop();
            const containerHeight = $container.innerHeight();
            const viewTriggerLine = scrollTop + containerHeight * 0.5;

            let closestId = null;
            let minDistance = Infinity;

            if (scrollTop > 0) {
                $('.home_card.sticky').addClass('active');

                $('[class*="bg_ty0"]').each(function () {
                    const $section = $(this);
                    const className = $section.attr('class') || '';
                    const idMatch = className.match(/bg_ty0(\d+)/);
                    if (!idMatch) return;

                    const id = idMatch[1];
                    const sectionTop = $section.offset().top - $container.offset().top + scrollTop + 150;

                    if (sectionTop > viewTriggerLine) return;

                    const distance = Math.abs(sectionTop - viewTriggerLine);
                    if (distance < minDistance) {
                        minDistance = distance;
                        closestId = id;
                    }
                });

                if (closestId) {
                    $buttons.removeClass('active');
                    $buttons.filter(`[data-target="${closestId}"]`).addClass('active');
                    scrollActiveButtonIntoView();
                }


            } else {
                $('.home_card.sticky').removeClass('active');
            }
        });
        function scrollActiveButtonIntoView() {
            const $container = $('.top_item_box');
            const $activeBtn = $('.product_top button.active');

            if ($activeBtn.length && $container.length) {
                const containerEl = $container[0];
                const activeEl = $activeBtn[0];

                // 버튼이 container 안에 있는지 확인
                const containerRect = containerEl.getBoundingClientRect();
                const activeRect = activeEl.getBoundingClientRect();

                const offsetLeft =
                    activeEl.offsetLeft -
                    (containerEl.clientWidth / 2) +
                    (activeEl.clientWidth / 2);

                $container.stop().animate({
                    scrollLeft: offsetLeft
                }, 300);
            }
        }
    });
    
</script>

{{/ layout/default }}