{{#> layout/default page-title="현재페이지 | 뎁스 페이지"}}
	<div id="wrap" class="wrap">
		{{> layout/header h-title="타이틀" }}
		<div id="container" class="container">
			<div class="content">

				content

				<!-- // content -->
			</div>

			<!-- // container -->
		</div>
	</div>

	<!-- s: popup area -->


	<!-- <div class="c_loading c_loading_lt cl_ty1" role="dialog" tabindex="0">
		<div class="cl_inner">
			<div id="lottie-loading" aria-hidden="true"></div>
		</div>
	</div> -->
	 
	<!-- e: popup area -->


	

	<script>

		


		function showLoading() {
			// 이미 떠 있으면 중복 생성 방지
			if ($('.c_loading_lt').length) return;

			// 1. DOM append
			$('body').append(`
				<div class="c_loading c_loading_lt cl_ty2" role="dialog">
					<div class="cl_inner">
						<div class="cl_ii">
							<div id="lottie-loading" aria-hidden="true"></div>
						</div>
						<div class="ci_content cc_ty1">
							<strong class="ci_content_tit">잠시만 기다려 주세요</strong>
							<div class="ci_content_desc">
								서비스 처리중입니다.<br>
								잠시만 기다려 주세요.
							</div>
						</div>
					</div>
				</div>
			`);

			// 2. paint 이후 lottie 실행 (iOS 안전)
			requestAnimationFrame(() => {
				const container = document.getElementById('lottie-loading');
				if (!container) return;

				// 혹시 남아있을 수 있는 인스턴스 정리
				if (loadingAnimation) {
					loadingAnimation.destroy();
					loadingAnimation = null;
				}

				// 3. lottie 생성
				loadingAnimation = lottie.loadAnimation({
					container: container,
					renderer: 'svg',
					loop: true,
					autoplay: true,
					path: '../../../json/loading_dot_auto.jso',
					rendererSettings: {
						preserveAspectRatio: 'xMidYMid meet'
					}
				});
			});
		}

		// 제거
		function hideLoading() {
			// 1. lottie 정리
			if (loadingAnimation) {
				loadingAnimation.stop();   // optional
				loadingAnimation.destroy();
				loadingAnimation = null;
			}

			// 2. DOM 제거
			$('.c_loading_lt').remove();
		}

		let loadingAnimation = null;


		// 로딩 시작
		showLoading();

		// 비동기 작업
		setTimeout(() => {
			// 로딩 종료
			// hideLoading();
			console.log('1');
		}, 8000);

	</script>

{{/ layout/default }}