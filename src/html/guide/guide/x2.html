<!---
화면번호 : PRDR10003010000
경로 : 보험료 확인 > 가입조건 변경
-->
{{#> layout/default page-title="보험료 확인 | 상품"}}

<p class="bbooxx" tabindex="0"></p>

<!-- s: Bottom 팝업 -->
{{#> popup/popup_bottom popup-id="pop_type01" popup-title="가입조건 변경" popup-active=true }}
<div class="popup_cont">
	<div class="popup_content">
		<div class="form_group_wrap">
			<div class="form_line">
				<div class="label_tit">보험기간(년)</div>
				<div class="sweep_select">
					<span class="iii" tabindex="1">보험기간 선택</span>
					<div id="option_swiper2" class="swiper-container">
						<div class="swiper-wrapper">
							<div class="swiper-slide"><span>3년</span></div>
							<div class="swiper-slide"><span class="active">5년</span></div>
							<div class="swiper-slide"><span>7년</span></div>
							<div class="swiper-slide"><span>10년</span></div>
							<div class="swiper-slide"><span>15년</span></div>
							<div class="swiper-slide"><span>20년</span></div>
							<div class="swiper-slide"><span>30년</span></div>
							<div class="swiper-slide"><span>40년</span></div>
							<div class="swiper-slide"><span>50년</span></div>
							<div class="swiper-slide"><span>60년</span></div>
							<div class="swiper-slide"><span>70년</span></div>
							<div class="swiper-slide"><span>80년</span></div>
							<div class="swiper-slide"><span>90년</span></div>
							<div class="swiper-slide"><span>100년</span></div>
							<div class="swiper-slide"><span>110년</span></div>
						</div>
					</div>
					<div class="swiper-button-prev"></div>
					<div class="swiper-button-next"></div>
				</div>
			</div>
			<div class="form_line">
				<div class="label_tit">보험기간(년)</div>
				<div class="sweep_select">
					<span class="iii" tabindex="-1">보험기간 선택</span>
					<div id="option_swiper1" class="swiper-container">
						<div class="swiper-wrapper">
							<div class="swiper-slide"><span>3년</span></div>
							<div class="swiper-slide"><span>5년</span></div>
							<div class="swiper-slide"><span>7년</span></div>
							<div class="swiper-slide"><span>10년</span></div>
							<div class="swiper-slide"><span class="active">15년</span></div>
							<div class="swiper-slide"><span>20년</span></div>
						</div>
					</div>
					<div class="swiper-button-prev"></div>
					<div class="swiper-button-next"></div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="popup_bottom">
	<div class="btn_area">
		{{> cp/button type="3" size="2" b-text="가입 조건을 변경합니다" }}
	</div>
</div>
{{/ popup/popup_bottom}}
<!-- e: Bottom 팝업 -->

<script>
	$(document).ready(function() {

		const swiperMap = new Map();

		$('.swiper-container').each(function (idx, ele) {
			const $swiperContainer = $(ele);
			const $swiperWrapper = $swiperContainer.find('.swiper-wrapper');
			const $sweepSelect = $swiperContainer.closest('.sweep_select');
			const $prevBtn = $sweepSelect.find('.swiper-button-prev');
			const $nextBtn = $sweepSelect.find('.swiper-button-next');

			// .swiper-slide > span.active 의 인덱스를 찾아 초기 슬라이드로 설정
			const $activeSlide = $swiperWrapper.find('.swiper-slide span.active');
			const initialSlideIndex = $activeSlide.length ? $activeSlide.closest('.swiper-slide').index() : 0;

			const swiper = new Swiper($swiperContainer[0], {
				slidesPerView: 'auto',
				centeredSlides: true,
				initialSlide: initialSlideIndex,
				spaceBetween: 16,
				slideToClickedSlide: true,
				observer: true,
				navigation: {
					nextEl: $nextBtn[0],
					prevEl: $prevBtn[0],
				},
				a11y: {
					enabled: true,
					slideRole: 'button',
					slideLabelMessage: '',
					prevSlideMessage: '이전 항목으로 이동',
					nextSlideMessage: '다음 항목으로 이동',
					scrollOnFocus: true,
				},
				on: {
					init: function (swiperInstance) {
						slideFocus(swiperInstance);
					},
				}
			});
			swiperMap.set($swiperContainer[0], swiper);
		});

		function slideFocus(swiperInstance) {
			$(swiperInstance.slides).each(function(idx) {
				$(this).on('click', function() {
					swiperInstance.slideTo(idx);
					// $('.popup_head').text(idx);
				});
			});
		}

		$(document).on('blur', '.sweep_select .iii', function () {
			const $sweepSelect = $(this).closest('.sweep_select');
			const swiperContainer = $sweepSelect.find('.swiper-container')[0];
			const swiperInstance = swiperMap.get(swiperContainer);

			if (swiperInstance) {
				swiperInstance.slideTo(0);
				$('.bbooxx').text('스크립트 실행');
			}
		});

		$(document).on('blur', '.bbooxx', function () {
			$('.bbooxx').text('blur');	
		});

		
	
	
	});
</script>
 
{{/ layout/default }}